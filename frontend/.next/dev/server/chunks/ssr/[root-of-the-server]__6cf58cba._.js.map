{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/utils/orderAggregation.ts"],"sourcesContent":["/**\r\n * Aggregates order items by product ID or name\r\n * Groups identical products and sums their quantities\r\n * \r\n * @param items - Raw order items array\r\n * @returns Aggregated items with combined quantities\r\n */\r\n\r\nexport interface AggregatedOrderItem {\r\n  productId: string;\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n  total?: number;\r\n}\r\n\r\nexport interface RawOrderItem {\r\n  productId?: { _id?: string; name?: string } | string;\r\n  name: string;\r\n  quantity: number;\r\n  price: number;\r\n  total?: number;\r\n}\r\n\r\nexport function aggregateOrderItems(items: RawOrderItem[]): AggregatedOrderItem[] {\r\n  if (!items || items.length === 0) {\r\n    return [];\r\n  }\r\n\r\n  const itemsMap = new Map<string, AggregatedOrderItem>();\r\n\r\n  items.forEach((item) => {\r\n    // Extract product ID - try multiple sources\r\n    let productId: string;\r\n    \r\n    if (typeof item.productId === 'object' && item.productId?._id) {\r\n      productId = item.productId._id;\r\n    } else if (typeof item.productId === 'string') {\r\n      productId = item.productId;\r\n    } else if (typeof item.productId === 'object' && item.productId?.name) {\r\n      productId = item.productId.name;\r\n    } else {\r\n      // Fallback to product name\r\n      productId = item.name || 'unknown';\r\n    }\r\n\r\n    const itemName = item.name || 'Unknown Item';\r\n    const itemPrice = item.price || 0;\r\n    const itemQuantity = item.quantity || 0;\r\n\r\n    if (itemsMap.has(productId)) {\r\n      // Aggregate with existing item\r\n      const existing = itemsMap.get(productId)!;\r\n      existing.quantity += itemQuantity;\r\n      if (existing.total !== undefined) {\r\n        existing.total = existing.price * existing.quantity;\r\n      }\r\n    } else {\r\n      // Create new aggregated item\r\n      itemsMap.set(productId, {\r\n        productId,\r\n        name: itemName,\r\n        price: itemPrice,\r\n        quantity: itemQuantity,\r\n        total: item.total || (itemPrice * itemQuantity)\r\n      });\r\n    }\r\n  });\r\n\r\n  return Array.from(itemsMap.values());\r\n}\r\n\r\n/**\r\n * Calculates total from aggregated items\r\n */\r\nexport function calculateAggregatedTotal(items: AggregatedOrderItem[]): number {\r\n  return items.reduce((sum, item) => sum + (item.price * item.quantity), 0);\r\n}\r\n"],"names":[],"mappings":"AAAA;;;;;;CAMC;;;;;;AAkBM,SAAS,oBAAoB,KAAqB;IACvD,IAAI,CAAC,SAAS,MAAM,MAAM,KAAK,GAAG;QAChC,OAAO,EAAE;IACX;IAEA,MAAM,WAAW,IAAI;IAErB,MAAM,OAAO,CAAC,CAAC;QACb,4CAA4C;QAC5C,IAAI;QAEJ,IAAI,OAAO,KAAK,SAAS,KAAK,YAAY,KAAK,SAAS,EAAE,KAAK;YAC7D,YAAY,KAAK,SAAS,CAAC,GAAG;QAChC,OAAO,IAAI,OAAO,KAAK,SAAS,KAAK,UAAU;YAC7C,YAAY,KAAK,SAAS;QAC5B,OAAO,IAAI,OAAO,KAAK,SAAS,KAAK,YAAY,KAAK,SAAS,EAAE,MAAM;YACrE,YAAY,KAAK,SAAS,CAAC,IAAI;QACjC,OAAO;YACL,2BAA2B;YAC3B,YAAY,KAAK,IAAI,IAAI;QAC3B;QAEA,MAAM,WAAW,KAAK,IAAI,IAAI;QAC9B,MAAM,YAAY,KAAK,KAAK,IAAI;QAChC,MAAM,eAAe,KAAK,QAAQ,IAAI;QAEtC,IAAI,SAAS,GAAG,CAAC,YAAY;YAC3B,+BAA+B;YAC/B,MAAM,WAAW,SAAS,GAAG,CAAC;YAC9B,SAAS,QAAQ,IAAI;YACrB,IAAI,SAAS,KAAK,KAAK,WAAW;gBAChC,SAAS,KAAK,GAAG,SAAS,KAAK,GAAG,SAAS,QAAQ;YACrD;QACF,OAAO;YACL,6BAA6B;YAC7B,SAAS,GAAG,CAAC,WAAW;gBACtB;gBACA,MAAM;gBACN,OAAO;gBACP,UAAU;gBACV,OAAO,KAAK,KAAK,IAAK,YAAY;YACpC;QACF;IACF;IAEA,OAAO,MAAM,IAAI,CAAC,SAAS,MAAM;AACnC;AAKO,SAAS,yBAAyB,KAA4B;IACnE,OAAO,MAAM,MAAM,CAAC,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAAG;AACzE"}},
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/utils/vendorAuth.ts"],"sourcesContent":["/**\r\n * Vendor Authentication Utilities\r\n * Provides consistent token management for vendor pages\r\n */\r\n\r\nconst VENDOR_TOKEN_KEY = 'vendor_auth_token';\r\nconst VENDOR_USER_KEY = 'vendor_auth_user';\r\nconst VENDOR_ID_KEY = 'cc_vendorId';\r\n\r\n/**\r\n * Get vendor JWT token from localStorage\r\n * @returns {string | null} The vendor auth token or null if not found\r\n */\r\nexport const getVendorToken = (): string | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    return localStorage.getItem('auth_token');\r\n};\r\n\r\n/**\r\n * Get vendor user data from localStorage\r\n * @returns {any | null} The vendor user object or null if not found\r\n */\r\nexport const getVendorUser = (): any | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    const stored = localStorage.getItem(VENDOR_USER_KEY);\r\n    if (!stored) return null;\r\n    try {\r\n        return JSON.parse(stored);\r\n    } catch {\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Get vendor ID from localStorage\r\n * @returns {string | null} The vendor ID or null if not found\r\n */\r\nexport const getVendorId = (): string | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    try {\r\n        const user = JSON.parse(localStorage.getItem('auth_user') || '{}');\r\n        return user.id || null;\r\n    } catch {\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Check if vendor is authenticated\r\n * @returns {boolean} True if vendor has a valid token\r\n */\r\nexport const isVendorAuthenticated = (): boolean => {\r\n    return !!getVendorToken();\r\n};\r\n\r\n/**\r\n * Clear vendor authentication data\r\n */\r\nexport const clearVendorAuth = (): void => {\r\n    if (typeof window === 'undefined') return;\r\n    localStorage.removeItem(VENDOR_TOKEN_KEY);\r\n    localStorage.removeItem(VENDOR_USER_KEY);\r\n    localStorage.removeItem(VENDOR_ID_KEY);\r\n    localStorage.removeItem('vendorId');\r\n};\r\n\r\n/**\r\n * Create Authorization header for vendor API calls\r\n * @returns {Record<string, string>} Headers object with Authorization\r\n */\r\nexport const getVendorAuthHeaders = (): Record<string, string> => {\r\n    const token = getVendorToken();\r\n    if (!token) return {};\r\n    return {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n    };\r\n};\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;AAED,MAAM,mBAAmB;AACzB,MAAM,kBAAkB;AACxB,MAAM,gBAAgB;AAMf,MAAM,iBAAiB;IAC1B,wCAAmC,OAAO;;;AAE9C;AAMO,MAAM,gBAAgB;IACzB,wCAAmC,OAAO;;;IAC1C,MAAM;AAOV;AAMO,MAAM,cAAc;IACvB,wCAAmC,OAAO;;;AAO9C;AAMO,MAAM,wBAAwB;IACjC,OAAO,CAAC,CAAC;AACb;AAKO,MAAM,kBAAkB;IAC3B,wCAAmC;;;AAKvC;AAMO,MAAM,uBAAuB;IAChC,MAAM,QAAQ;IACd,IAAI,CAAC,OAAO,OAAO,CAAC;IACpB,OAAO;QACH,iBAAiB,CAAC,OAAO,EAAE,OAAO;QAClC,gBAAgB;IACpB;AACJ"}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/pages/vendor/orderdetails.tsx"],"sourcesContent":["import { useEffect, useState, useMemo } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { useToast } from '../../components/ui/ToastProvider';\r\nimport { aggregateOrderItems, AggregatedOrderItem } from '../../utils/orderAggregation';\r\nimport { getVendorToken, getVendorId, getVendorAuthHeaders } from '../../utils/vendorAuth';\r\n\r\ninterface OrderItem {\r\n  productId?: { _id?: string; name: string };\r\n  name: string;\r\n  quantity: number;\r\n  price: number;\r\n  total: number;\r\n}\r\n\r\ninterface AggregatedItem extends AggregatedOrderItem {\r\n  lineTotal: number;\r\n  productName: string;\r\n}\r\n\r\ninterface Order {\r\n  _id: string;\r\n  orderNumber: string;\r\n  customer_snapshot: {\r\n    name: string;\r\n    phone: string;\r\n    email: string;\r\n  };\r\n  vendorId: {\r\n    _id: string;\r\n    storeName: string;\r\n  } | null;\r\n  items: OrderItem[];\r\n  pricing: {\r\n    subtotal: number;\r\n    deliveryFee?: number;\r\n    tax?: number;\r\n    totalAmount: number;\r\n  };\r\n  delivery_address_snapshot?: {\r\n    community?: string;\r\n    block?: string;\r\n    floor?: string;\r\n    flat_number?: string;\r\n  };\r\n  payment: {\r\n    method: string;\r\n    status: string;\r\n    transactionId?: string;\r\n  };\r\n  status: 'pending' | 'processing' | 'completed' | 'cancelled';\r\n  notes?: string;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n}\r\n\r\nexport default function VendorOrderDetails() {\r\n  const router = useRouter();\r\n  const { orderId } = router.query;\r\n  const [order, setOrder] = useState<Order | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const { pushToast } = useToast();\r\n\r\n  const vendorId = getVendorId();\r\n\r\n  useEffect(() => {\r\n    if (orderId && vendorId) {\r\n      fetchOrderDetails();\r\n    }\r\n  }, [orderId, vendorId]);\r\n\r\n  const fetchOrderDetails = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Get vendor JWT token using utility\r\n      const token = getVendorToken();\r\n\r\n      if (!token) {\r\n        pushToast({ type: 'error', message: 'No authentication token found. Please login again.' });\r\n        router.push('/login');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const res = await fetch(`http://localhost:5000/api/orders/${orderId}`, {\r\n        headers: getVendorAuthHeaders(),\r\n      });\r\n\r\n      if (res.status === 401) {\r\n        pushToast({ type: 'error', message: 'Session expired. Please login again.' });\r\n        router.push('/login');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!res.ok) {\r\n        throw new Error('Failed to fetch order details');\r\n      }\r\n\r\n      const data = await res.json();\r\n\r\n      // Verify order belongs to this vendor\r\n      if (data.vendorId?._id !== vendorId) {\r\n        pushToast({\r\n          type: 'error',\r\n          message: 'This order does not belong to your store'\r\n        });\r\n        router.push('/vendor/ordershistory');\r\n        return;\r\n      }\r\n\r\n      setOrder(data);\r\n    } catch (error: any) {\r\n      pushToast({\r\n        type: 'error',\r\n        message: error.message || 'Failed to load order details'\r\n      });\r\n      router.push('/vendor/ordershistory');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Aggregate items by product ID or name\r\n  const aggregatedItems = useMemo<AggregatedItem[]>(() => {\r\n    if (!order || !order.items || order.items.length === 0) {\r\n      return [];\r\n    }\r\n\r\n    // Use utility function to aggregate items\r\n    const aggregated = aggregateOrderItems(order.items);\r\n\r\n    // Map to AggregatedItem format with lineTotal\r\n    return aggregated.map(item => ({\r\n      ...item,\r\n      lineTotal: item.price * item.quantity,\r\n      productName: item.name // for compatibility with template\r\n    }));\r\n  }, [order]);\r\n\r\n  // Calculate subtotal from aggregated items\r\n  const calculatedSubtotal = useMemo(() => {\r\n    return aggregatedItems.reduce((sum, item) => sum + item.lineTotal, 0);\r\n  }, [aggregatedItems]);\r\n\r\n  const formatDate = (dateStr: string) => {\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleDateString('en-IN', {\r\n      day: '2-digit',\r\n      month: 'short',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const formatShortOrderId = (orderNumber: string) => {\r\n    // Extract last 6 chars for display\r\n    return orderNumber.slice(-6).toUpperCase();\r\n  };\r\n\r\n  const getStatusLabel = (status: string) => {\r\n    const labels: Record<string, string> = {\r\n      pending: 'Pending',\r\n      processing: 'Processing',\r\n      completed: 'Completed',\r\n      cancelled: 'Cancelled'\r\n    };\r\n    return labels[status] || status;\r\n  };\r\n\r\n  const handleBack = () => {\r\n    router.back();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"order-details-container\">\r\n        <div className=\"loading-state\">Loading order details...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!order) {\r\n    return (\r\n      <div className=\"order-details-container\">\r\n        <div className=\"error-state\">Order not found</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"order-details-container\">\r\n      <div className=\"order-details-header\">\r\n        <button onClick={handleBack} className=\"back-button\">\r\n          ← Back\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"order-bill-card\">\r\n        {/* ORDER HEADER */}\r\n        <div className=\"bill-header\">\r\n          <div className=\"bill-title-section\">\r\n            <h1 className=\"bill-title\">Order Details</h1>\r\n            <div className=\"order-id-display\">\r\n              Order #{formatShortOrderId(order.orderNumber)}\r\n            </div>\r\n          </div>\r\n          <div className={`order-status-badge ${order.status}`}>\r\n            {getStatusLabel(order.status)}\r\n          </div>\r\n        </div>\r\n\r\n        {/* ORDER TIMESTAMPS */}\r\n        <div className=\"bill-section\">\r\n          <h2 className=\"bill-section-title\">Order Information</h2>\r\n          <div className=\"bill-info-grid\">\r\n            <div className=\"bill-info-item\">\r\n              <span className=\"bill-info-label\">Ordered:</span>\r\n              <span className=\"bill-info-value\">{formatDate(order.createdAt)}</span>\r\n            </div>\r\n            {order.status === 'completed' && (\r\n              <div className=\"bill-info-item\">\r\n                <span className=\"bill-info-label\">Completed:</span>\r\n                <span className=\"bill-info-value\">{formatDate(order.updatedAt)}</span>\r\n              </div>\r\n            )}\r\n            {order.status === 'cancelled' && (\r\n              <div className=\"bill-info-item\">\r\n                <span className=\"bill-info-label\">Cancelled:</span>\r\n                <span className=\"bill-info-value\">{formatDate(order.updatedAt)}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* CUSTOMER DETAILS */}\r\n        <div className=\"bill-section\">\r\n          <h2 className=\"bill-section-title\">Customer Details</h2>\r\n          <div className=\"bill-info-grid\">\r\n            <div className=\"bill-info-item\">\r\n              <span className=\"bill-info-label\">Name:</span>\r\n              <span className=\"bill-info-value\">{order.customer_snapshot?.name || '—'}</span>\r\n            </div>\r\n            {order.customer_snapshot?.phone && (\r\n              <div className=\"bill-info-item\">\r\n                <span className=\"bill-info-label\">Phone:</span>\r\n                <span className=\"bill-info-value\">{order.customer_snapshot.phone}</span>\r\n              </div>\r\n            )}\r\n            {order.customer_snapshot?.email && (\r\n              <div className=\"bill-info-item\">\r\n                <span className=\"bill-info-label\">Email:</span>\r\n                <span className=\"bill-info-value\">{order.customer_snapshot.email}</span>\r\n              </div>\r\n            )}\r\n            {order.delivery_address_snapshot && (\r\n              <div className=\"bill-info-item full-width\">\r\n                <span className=\"bill-info-label\">Delivery Address:</span>\r\n                <span className=\"bill-info-value\">\r\n                  {[\r\n                    order.delivery_address_snapshot.flat_number && `Flat ${order.delivery_address_snapshot.flat_number}`,\r\n                    order.delivery_address_snapshot.floor && `Floor ${order.delivery_address_snapshot.floor}`,\r\n                    order.delivery_address_snapshot.block && `Block ${order.delivery_address_snapshot.block}`,\r\n                    order.delivery_address_snapshot.community\r\n                  ].filter(Boolean).join(', ') || 'N/A'}\r\n                </span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* ITEMIZED TABLE - AGGREGATED */}\r\n        <div className=\"bill-section\">\r\n          <h2 className=\"bill-section-title\">Order Items</h2>\r\n          <div className=\"bill-table-wrapper\">\r\n            <table className=\"bill-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th className=\"item-name-col\">Item Name</th>\r\n                  <th className=\"item-price-col\">Price</th>\r\n                  <th className=\"item-qty-col\">Qty</th>\r\n                  <th className=\"item-total-col\">Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {aggregatedItems.map((item) => (\r\n                  <tr key={item.productId}>\r\n                    <td className=\"item-name-cell\">{item.productName}</td>\r\n                    <td className=\"item-price-cell\">₹{item.price.toFixed(2)}</td>\r\n                    <td className=\"item-qty-cell\">{item.quantity}</td>\r\n                    <td className=\"item-total-cell\">₹{item.lineTotal.toFixed(2)}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* ORDER SUMMARY */}\r\n        <div className=\"bill-section\">\r\n          <div className=\"bill-summary\">\r\n            <div className=\"bill-summary-row\">\r\n              <span className=\"bill-summary-label\">Subtotal:</span>\r\n              <span className=\"bill-summary-value\">₹{calculatedSubtotal.toFixed(2)}</span>\r\n            </div>\r\n            <div className=\"bill-summary-row\">\r\n              <span className=\"bill-summary-label\">Payment Method:</span>\r\n              <span className=\"bill-summary-value\">{order.payment?.method || 'COD'}</span>\r\n            </div>\r\n            <div className=\"bill-summary-row bill-total\">\r\n              <span className=\"bill-summary-label\">Total:</span>\r\n              <span className=\"bill-summary-value\">₹{order.pricing.totalAmount.toFixed(2)}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* NOTES */}\r\n        {order.notes && (\r\n          <div className=\"bill-section\">\r\n            <h2 className=\"bill-section-title\">Notes</h2>\r\n            <div className=\"bill-notes\">\r\n              <div className=\"bill-note-item\">\r\n                <strong>Order Notes:</strong> {order.notes}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}