{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/utils/vendorAuth.ts"],"sourcesContent":["/**\r\n * Vendor Authentication Utilities\r\n * Provides consistent token management for vendor pages\r\n */\r\n\r\nconst VENDOR_TOKEN_KEY = 'vendor_auth_token';\r\nconst VENDOR_USER_KEY = 'vendor_auth_user';\r\nconst VENDOR_ID_KEY = 'cc_vendorId';\r\n\r\n/**\r\n * Get vendor JWT token from localStorage\r\n * @returns {string | null} The vendor auth token or null if not found\r\n */\r\nexport const getVendorToken = (): string | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    return localStorage.getItem('auth_token');\r\n};\r\n\r\n/**\r\n * Get vendor user data from localStorage\r\n * @returns {any | null} The vendor user object or null if not found\r\n */\r\nexport const getVendorUser = (): any | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    const stored = localStorage.getItem(VENDOR_USER_KEY);\r\n    if (!stored) return null;\r\n    try {\r\n        return JSON.parse(stored);\r\n    } catch {\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Get vendor ID from localStorage\r\n * @returns {string | null} The vendor ID or null if not found\r\n */\r\nexport const getVendorId = (): string | null => {\r\n    if (typeof window === 'undefined') return null;\r\n    try {\r\n        const user = JSON.parse(localStorage.getItem('auth_user') || '{}');\r\n        return user.id || null;\r\n    } catch {\r\n        return null;\r\n    }\r\n};\r\n\r\n/**\r\n * Check if vendor is authenticated\r\n * @returns {boolean} True if vendor has a valid token\r\n */\r\nexport const isVendorAuthenticated = (): boolean => {\r\n    return !!getVendorToken();\r\n};\r\n\r\n/**\r\n * Clear vendor authentication data\r\n */\r\nexport const clearVendorAuth = (): void => {\r\n    if (typeof window === 'undefined') return;\r\n    localStorage.removeItem(VENDOR_TOKEN_KEY);\r\n    localStorage.removeItem(VENDOR_USER_KEY);\r\n    localStorage.removeItem(VENDOR_ID_KEY);\r\n    localStorage.removeItem('vendorId');\r\n};\r\n\r\n/**\r\n * Create Authorization header for vendor API calls\r\n * @returns {Record<string, string>} Headers object with Authorization\r\n */\r\nexport const getVendorAuthHeaders = (): Record<string, string> => {\r\n    const token = getVendorToken();\r\n    if (!token) return {};\r\n    return {\r\n        'Authorization': `Bearer ${token}`,\r\n        'Content-Type': 'application/json',\r\n    };\r\n};\r\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;;;;;;;;;;;AAED,MAAM,mBAAmB;AACzB,MAAM,kBAAkB;AACxB,MAAM,gBAAgB;AAMf,MAAM,iBAAiB;IAC1B,wCAAmC,OAAO;;;AAE9C;AAMO,MAAM,gBAAgB;IACzB,wCAAmC,OAAO;;;IAC1C,MAAM;AAOV;AAMO,MAAM,cAAc;IACvB,wCAAmC,OAAO;;;AAO9C;AAMO,MAAM,wBAAwB;IACjC,OAAO,CAAC,CAAC;AACb;AAKO,MAAM,kBAAkB;IAC3B,wCAAmC;;;AAKvC;AAMO,MAAM,uBAAuB;IAChC,MAAM,QAAQ;IACd,IAAI,CAAC,OAAO,OAAO,CAAC;IACpB,OAAO;QACH,iBAAiB,CAAC,OAAO,EAAE,OAAO;QAClC,gBAAgB;IACpB;AACJ"}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/pages/vendor/ordershistory.tsx"],"sourcesContent":["import { useEffect, useMemo, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { useToast } from '../../components/ui/ToastProvider';\r\nimport { aggregateOrderItems } from '../../utils/orderAggregation';\r\nimport { getVendorToken, getVendorId, getVendorAuthHeaders } from '../../utils/vendorAuth';\r\n\r\ntype OrderStatus = 'completed' | 'cancelled' | 'processing' | 'pending' | 'all';\r\n\r\ninterface OrderResponse {\r\n  order_id: string;\r\n  order_number: string;\r\n  status: 'completed' | 'cancelled' | 'processing' | 'pending';\r\n  created_at: string;\r\n  customer: {\r\n    name: string;\r\n    phone: string;\r\n  };\r\n  delivery_address_snapshot: {\r\n    community?: string;\r\n    block?: string;\r\n    floor?: string;\r\n    flat_number?: string;\r\n  };\r\n  items: Array<{\r\n    product_id: string;\r\n    name: string;\r\n    quantity: number;\r\n    price: number;\r\n  }>;\r\n  total_amount: number;\r\n  payment_method: string;\r\n}\r\n\r\ninterface Order {\r\n  _id: string;\r\n  orderNumber: string;\r\n  customerName: string;\r\n  customerPhone: string;\r\n  items?: Array<{ quantity: number }>;\r\n  pricing: {\r\n    totalAmount: number;\r\n  };\r\n  paymentMethod?: string;\r\n  status: 'completed' | 'cancelled' | 'processing' | 'pending';\r\n  createdAt?: string;\r\n}\r\n\r\ntype DatePreset = 'today' | 'month' | 'all';\r\nconst ALLOWED_STATUSES: Array<Exclude<OrderStatus, 'all'>> = ['completed', 'cancelled', 'processing', 'pending'];\r\n\r\nexport default function VendorOrderHistory() {\r\n  const router = useRouter();\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [allOrders, setAllOrders] = useState<Order[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Filters\r\n  const [statusFilter, setStatusFilter] = useState<Set<Exclude<OrderStatus, 'all'>>>(\r\n    new Set(ALLOWED_STATUSES)\r\n  );\r\n  const [datePreset, setDatePreset] = useState<DatePreset>('all');\r\n  const [customDateFrom, setCustomDateFrom] = useState<string>('');\r\n  const [customDateTo, setCustomDateTo] = useState<string>('');\r\n  const [minOrderValue, setMinOrderValue] = useState<string>('');\r\n  const [minUnits, setMinUnits] = useState<string>('');\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n  const [debouncedSearch, setDebouncedSearch] = useState<string>('');\r\n\r\n  const { pushToast } = useToast();\r\n\r\n  // Get vendorId from localStorage\r\n  const vendorId = getVendorId();\r\n\r\n  useEffect(() => {\r\n    if (vendorId) {\r\n      loadOrders();\r\n    } else {\r\n      pushToast({ type: 'error', message: 'Vendor not logged in' });\r\n      setLoading(false);\r\n    }\r\n  }, [vendorId]);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => setDebouncedSearch(searchTerm), 250);\r\n    return () => clearTimeout(timer);\r\n  }, [searchTerm]);\r\n\r\n  const loadOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n\r\n      // Get vendor JWT token using utility\r\n      const token = getVendorToken();\r\n\r\n      if (!token) {\r\n        pushToast({ type: 'error', message: 'No authentication token found. Please login again.' });\r\n        router.push('/login');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      const res = await fetch('http://localhost:5000/api/vendors/orders', {\r\n        headers: getVendorAuthHeaders(),\r\n      });\r\n\r\n      if (res.status === 401) {\r\n        pushToast({ type: 'error', message: 'Session expired. Please login again.' });\r\n        router.push('/login');\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!res.ok) {\r\n        throw new Error('Failed to fetch orders');\r\n      }\r\n\r\n      const data: OrderResponse[] = await res.json();\r\n\r\n      // Map snapshot-based response to UI format\r\n      const validOrders = data\r\n        .filter(orderResponse =>\r\n          orderResponse && orderResponse.status &&\r\n          ['completed', 'cancelled', 'processing', 'pending'].includes(orderResponse.status)\r\n        )\r\n        .map((orderResponse): Order => ({\r\n          _id: orderResponse.order_id,\r\n          orderNumber: orderResponse.order_number,\r\n          customerName: orderResponse.customer.name || 'Unknown',\r\n          customerPhone: orderResponse.customer.phone || 'N/A',\r\n          items: orderResponse.items.map(item => ({ quantity: item.quantity })),\r\n          pricing: {\r\n            totalAmount: orderResponse.total_amount,\r\n          },\r\n          paymentMethod: orderResponse.payment_method || 'COD',\r\n          status: orderResponse.status,\r\n          createdAt: orderResponse.created_at,\r\n        }));\r\n\r\n      setAllOrders(validOrders);\r\n    } catch (error: any) {\r\n      pushToast({ type: 'error', message: error.message || 'Failed to load orders' });\r\n      setAllOrders([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filter orders based on all criteria\r\n  const filteredOrders = useMemo(() => {\r\n    let filtered = [...allOrders];\r\n\r\n    // Search by order id or customer name\r\n    if (debouncedSearch.trim()) {\r\n      const search = debouncedSearch.trim().toLowerCase();\r\n      filtered = filtered.filter(order => {\r\n        const orderId = (order.orderNumber || '').toLowerCase();\r\n        const customerName = (order.customerName || '').toLowerCase();\r\n        return orderId.includes(search) || customerName.includes(search);\r\n      });\r\n    }\r\n\r\n    // Status filter (robust: normalize and compare)\r\n    const activeStatuses = statusFilter.size === ALLOWED_STATUSES.length\r\n      ? ALLOWED_STATUSES\r\n      : Array.from(statusFilter).map((s) => s.toLowerCase() as Exclude<OrderStatus, 'all'>);\r\n\r\n    if (activeStatuses.length < ALLOWED_STATUSES.length) {\r\n      filtered = filtered.filter(order => activeStatuses.includes((order.status || '').toLowerCase() as any));\r\n    }\r\n\r\n    // Date filter\r\n    const now = new Date();\r\n    const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\r\n    const endOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate(), 23, 59, 59, 999);\r\n    const startOfMonth = new Date(now.getFullYear(), now.getMonth(), 1);\r\n    const startOfNextMonth = new Date(now.getFullYear(), now.getMonth() + 1, 1);\r\n\r\n    if (datePreset !== 'all') {\r\n      filtered = filtered.filter(order => {\r\n        if (!order.createdAt) return false;\r\n        const orderDate = new Date(order.createdAt);\r\n\r\n        if (datePreset === 'today') {\r\n          return orderDate >= startOfToday && orderDate <= endOfToday;\r\n        } else if (datePreset === 'month') {\r\n          return orderDate >= startOfMonth && orderDate < startOfNextMonth;\r\n        }\r\n        return true;\r\n      });\r\n    }\r\n\r\n    // Custom date range\r\n    if (customDateFrom) {\r\n      const fromDate = new Date(customDateFrom);\r\n      filtered = filtered.filter(order => {\r\n        if (!order.createdAt) return false;\r\n        return new Date(order.createdAt) >= fromDate;\r\n      });\r\n    }\r\n    if (customDateTo) {\r\n      const toDate = new Date(customDateTo);\r\n      toDate.setHours(23, 59, 59, 999);\r\n      filtered = filtered.filter(order => {\r\n        if (!order.createdAt) return false;\r\n        return new Date(order.createdAt) <= toDate;\r\n      });\r\n    }\r\n\r\n    // Min order value\r\n    if (minOrderValue) {\r\n      const minValue = parseFloat(minOrderValue);\r\n      if (!isNaN(minValue)) {\r\n        filtered = filtered.filter(order => order.pricing.totalAmount >= minValue);\r\n      }\r\n    }\r\n\r\n    // Min units per order\r\n    if (minUnits) {\r\n      const minUnitsValue = parseInt(minUnits, 10);\r\n      if (!isNaN(minUnitsValue)) {\r\n        filtered = filtered.filter(order => {\r\n          const units = (order.items || []).reduce((sum, item) => sum + (item?.quantity || 0), 0);\r\n          return units >= minUnitsValue;\r\n        });\r\n      }\r\n    }\r\n\r\n    // Sort by date descending (newest first)\r\n    filtered.sort((a, b) => {\r\n      if (!a.createdAt || !b.createdAt) return 0;\r\n      return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\r\n    });\r\n\r\n    return filtered;\r\n  }, [allOrders, statusFilter, datePreset, customDateFrom, customDateTo, minOrderValue, minUnits, debouncedSearch]);\r\n\r\n  const handleDatePresetChange = (preset: DatePreset) => {\r\n    setDatePreset(preset);\r\n    if (preset !== 'all') {\r\n      setCustomDateFrom('');\r\n      setCustomDateTo('');\r\n    }\r\n  };\r\n\r\n  const toggleStatus = (status: Exclude<OrderStatus, 'all'>) => {\r\n    const newSet = new Set(statusFilter);\r\n    if (newSet.has(status)) {\r\n      newSet.delete(status);\r\n    } else {\r\n      newSet.add(status);\r\n    }\r\n    setStatusFilter(newSet);\r\n  };\r\n\r\n  const setAllStatuses = () => {\r\n    setStatusFilter(new Set(ALLOWED_STATUSES));\r\n  };\r\n\r\n  const isAllSelected = statusFilter.size === ALLOWED_STATUSES.length;\r\n\r\n  const handleOrderClick = (orderId: string) => {\r\n    router.push(`/vendor/orderdetails?orderId=${orderId}`);\r\n  };\r\n\r\n  const formatDate = (dateStr?: string) => {\r\n    if (!dateStr) return 'â€”';\r\n    const date = new Date(dateStr);\r\n    return date.toLocaleDateString('en-IN', {\r\n      day: '2-digit',\r\n      month: 'short',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"vendor-order-history-container\">\r\n        <div style={{ padding: '24px', textAlign: 'center', color: 'var(--text-secondary)' }}>\r\n          Loading order history...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"vendor-order-history-container\">\r\n      <header className=\"page-header\">\r\n        <h1 className=\"page-title\">Order History</h1>\r\n        <p className=\"page-subtitle\">Review past orders and performance</p>\r\n      </header>\r\n\r\n      {/* FILTERS SECTION */}\r\n      <div className=\"filters-section\">\r\n        <div className=\"filters-row\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"search-input\"\r\n            placeholder=\"Search by Order ID or Customer name\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n          />\r\n\r\n          <div className=\"status-tabs\">\r\n            <button\r\n              className={`status-tab ${isAllSelected ? 'active' : ''}`}\r\n              onClick={setAllStatuses}\r\n            >\r\n              All\r\n            </button>\r\n            <button\r\n              className={`status-tab ${statusFilter.has('pending') ? 'active' : ''}`}\r\n              onClick={() => toggleStatus('pending')}\r\n            >\r\n              Pending\r\n            </button>\r\n            <button\r\n              className={`status-tab ${statusFilter.has('processing') ? 'active' : ''}`}\r\n              onClick={() => toggleStatus('processing')}\r\n            >\r\n              Processing\r\n            </button>\r\n            <button\r\n              className={`status-tab ${statusFilter.has('completed') ? 'active' : ''}`}\r\n              onClick={() => toggleStatus('completed')}\r\n            >\r\n              Completed\r\n            </button>\r\n            <button\r\n              className={`status-tab ${statusFilter.has('cancelled') ? 'active' : ''}`}\r\n              onClick={() => toggleStatus('cancelled')}\r\n            >\r\n              Cancelled\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"filters-row\">\r\n          <div className=\"date-presets\">\r\n            <button\r\n              className={`date-preset-btn ${datePreset === 'today' ? 'active' : ''}`}\r\n              onClick={() => handleDatePresetChange('today')}\r\n            >\r\n              Today\r\n            </button>\r\n            <button\r\n              className={`date-preset-btn ${datePreset === 'month' ? 'active' : ''}`}\r\n              onClick={() => handleDatePresetChange('month')}\r\n            >\r\n              This Month\r\n            </button>\r\n            <button\r\n              className={`date-preset-btn ${datePreset === 'all' ? 'active' : ''}`}\r\n              onClick={() => handleDatePresetChange('all')}\r\n            >\r\n              All Time\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"custom-date-range\">\r\n            <input\r\n              type=\"date\"\r\n              className=\"date-input\"\r\n              value={customDateFrom}\r\n              onChange={(e) => {\r\n                setCustomDateFrom(e.target.value);\r\n                setDatePreset('all');\r\n              }}\r\n              placeholder=\"From\"\r\n            />\r\n            <span className=\"date-separator\">â€”</span>\r\n            <input\r\n              type=\"date\"\r\n              className=\"date-input\"\r\n              value={customDateTo}\r\n              onChange={(e) => {\r\n                setCustomDateTo(e.target.value);\r\n                setDatePreset('all');\r\n              }}\r\n              placeholder=\"To\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"numeric-filters\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"numeric-input\"\r\n              placeholder=\"Min order value\"\r\n              value={minOrderValue}\r\n              onChange={(e) => setMinOrderValue(e.target.value)}\r\n              min=\"0\"\r\n            />\r\n            <input\r\n              type=\"number\"\r\n              className=\"numeric-input\"\r\n              placeholder=\"Min units per order\"\r\n              value={minUnits}\r\n              onChange={(e) => setMinUnits(e.target.value)}\r\n              min=\"0\"\r\n              step=\"1\"\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"clear-filters-btn\"\r\n            onClick={() => {\r\n              setStatusFilter(new Set(ALLOWED_STATUSES));\r\n              setDatePreset('all');\r\n              setCustomDateFrom('');\r\n              setCustomDateTo('');\r\n              setMinOrderValue('');\r\n              setMinUnits('');\r\n              setSearchTerm('');\r\n            }}\r\n          >\r\n            Clear\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ORDERS TABLE */}\r\n      <div className=\"orders-table-wrapper\">\r\n        <table className=\"orders-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Order ID</th>\r\n              <th>Customer Name</th>\r\n              <th>Order Date</th>\r\n              <th>Total Amount</th>\r\n              <th>Payment Method</th>\r\n              <th>Status</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {filteredOrders.map((order) => (\r\n              <tr\r\n                key={order.orderNumber || order._id}\r\n                onClick={() => handleOrderClick(order._id)}\r\n                style={{ cursor: 'pointer' }}\r\n                onMouseEnter={(e) => e.currentTarget.style.backgroundColor = 'var(--bg-hover)'}\r\n                onMouseLeave={(e) => e.currentTarget.style.backgroundColor = 'transparent'}\r\n              >\r\n                <td className=\"order-id-cell\">{order.orderNumber || 'â€”'}</td>\r\n                <td className=\"customer-name-cell\">\r\n                  <div>{order.customerName || 'â€”'}</div>\r\n                  <div style={{ fontSize: '0.85em', color: 'var(--text-secondary)' }}>\r\n                    ðŸ“ž {order.customerPhone}\r\n                  </div>\r\n                </td>\r\n                <td className=\"date-cell\">{formatDate(order.createdAt)}</td>\r\n                <td className=\"amount-cell\">â‚¹{order.pricing.totalAmount.toFixed(2)}</td>\r\n                <td className=\"payment-cell\">{order.paymentMethod || 'Cash'}</td>\r\n                <td className=\"status-cell\">\r\n                  <span className={`order-status-badge ${order.status}`}>\r\n                    {order.status === 'completed' ? 'Completed' :\r\n                      order.status === 'cancelled' ? 'Cancelled' :\r\n                        order.status === 'processing' ? 'Processing' : 'Pending'}\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {filteredOrders.length === 0 && !loading && (\r\n        <div style={{ padding: '24px', textAlign: 'center', color: 'var(--text-secondary)' }}>\r\n          No orders match the selected filters\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}