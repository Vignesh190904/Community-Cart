{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/components/layout/DashboardLayout.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\nimport { useEffect, useState } from 'react';\r\n\r\ntype Role = 'admin' | 'vendor';\r\n\r\ninterface DashboardLayoutProps {\r\n  role: Role;\r\n  children: React.ReactNode;\r\n}\r\n\r\nconst itemsByRole: Record<Role, Array<{ label: string; href: string }>> = {\r\n  admin: [\r\n    { label: 'Dashboard Overview', href: '/admin/dashboard' },\r\n    { label: 'Vendors', href: '/admin/vendors' },\r\n    { label: 'Products', href: '/admin/inventory' },\r\n    { label: 'Orders', href: '/admin/orders' },\r\n    { label: 'Reports', href: '/admin/reports' },\r\n    { label: 'Customers', href: '/admin/customers' },\r\n    { label: 'Platform Settings', href: '/admin/settings' },\r\n  ],\r\n  vendor: [\r\n    { label: 'Dashboard Overview', href: '/vendor/dashboard' },\r\n    { label: 'Products', href: '/vendor/products' },\r\n    { label: 'Orders', href: '/vendor/orders' },\r\n    { label: 'Earnings', href: '/vendor/earnings' },\r\n    { label: 'Inventory', href: '/vendor/inventory' },\r\n    { label: 'Profile Settings', href: '/vendor/settings' },\r\n  ],\r\n};\r\n\r\nexport default function DashboardLayout({ role, children }: DashboardLayoutProps) {\r\n  const router = useRouter();\r\n  const items = itemsByRole[role];\r\n  const [userName, setUserName] = useState<string>('');\r\n  const [userEmail, setUserEmail] = useState<string>('');\r\n  const [isDark, setIsDark] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    // Read from localStorage if available (set during login)\r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        const stored = localStorage.getItem('cc_user');\r\n        if (stored) {\r\n          const parsed = JSON.parse(stored);\r\n          if (parsed?.name) setUserName(parsed.name);\r\n          if (parsed?.email) setUserEmail(parsed.email);\r\n        }\r\n      } catch {}\r\n\r\n      // Load theme preference\r\n      const theme = localStorage.getItem('cc_theme');\r\n      const prefersDark = theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n      setIsDark(prefersDark);\r\n      if (prefersDark) {\r\n        document.body.classList.add('theme-dark');\r\n      } else {\r\n        document.body.classList.remove('theme-dark');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = !isDark;\r\n    setIsDark(newTheme);\r\n    if (newTheme) {\r\n      document.body.classList.add('theme-dark');\r\n      localStorage.setItem('cc_theme', 'dark');\r\n    } else {\r\n      document.body.classList.remove('theme-dark');\r\n      localStorage.setItem('cc_theme', 'light');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dash-layout\">\r\n      <aside className=\"dash-sidebar\">\r\n        <div className=\"dash-brand\">Community Cart</div>\r\n        <nav className=\"dash-nav\">\r\n          <ul className=\"dash-nav-list\">\r\n            {items.map((item) => {\r\n              const active = router.pathname === item.href;\r\n              return (\r\n                <li key={item.href} className={`dash-nav-item ${active ? 'active' : ''}`}>\r\n                  <Link href={item.href} className=\"dash-nav-link\">\r\n                    <span className=\"dash-icon\" aria-hidden>▣</span>\r\n                    <span className=\"dash-label\">{item.label}</span>\r\n                  </Link>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </nav>\r\n        <div className=\"dash-sidebar-bottom\">\r\n          <div className=\"dash-profile\">\r\n            <div className=\"dash-profile-text\">\r\n              <div className=\"dash-profile-name\">{userName || 'User'}</div>\r\n              <div className=\"dash-profile-email\">{userEmail || '—'}</div>\r\n            </div>\r\n          </div>\r\n          <button\r\n            className=\"dash-theme-btn\"\r\n            onClick={toggleTheme}\r\n            title={isDark ? 'Switch to Light Mode' : 'Switch to Dark Mode'}\r\n          >\r\n            {isDark ? 'Light' : 'Dark'}\r\n          </button>\r\n          <button\r\n            className=\"dash-logout-btn\"\r\n            onClick={() => {\r\n              if (typeof window !== 'undefined') {\r\n                localStorage.removeItem('cc_token');\r\n                localStorage.removeItem('cc_user');\r\n              }\r\n              router.replace('/login');\r\n            }}\r\n          >\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </aside>\r\n      <main className=\"dash-main\" role=\"main\">\r\n        {children}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AASA,MAAM,cAAoE;IACxE,OAAO;QACL;YAAE,OAAO;YAAsB,MAAM;QAAmB;QACxD;YAAE,OAAO;YAAW,MAAM;QAAiB;QAC3C;YAAE,OAAO;YAAY,MAAM;QAAmB;QAC9C;YAAE,OAAO;YAAU,MAAM;QAAgB;QACzC;YAAE,OAAO;YAAW,MAAM;QAAiB;QAC3C;YAAE,OAAO;YAAa,MAAM;QAAmB;QAC/C;YAAE,OAAO;YAAqB,MAAM;QAAkB;KACvD;IACD,QAAQ;QACN;YAAE,OAAO;YAAsB,MAAM;QAAoB;QACzD;YAAE,OAAO;YAAY,MAAM;QAAmB;QAC9C;YAAE,OAAO;YAAU,MAAM;QAAiB;QAC1C;YAAE,OAAO;YAAY,MAAM;QAAmB;QAC9C;YAAE,OAAO;YAAa,MAAM;QAAoB;QAChD;YAAE,OAAO;YAAoB,MAAM;QAAmB;KACvD;AACH;AAEe,SAAS,gBAAgB,EAAE,IAAI,EAAE,QAAQ,EAAwB;IAC9E,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,QAAQ,WAAW,CAAC,KAAK;IAC/B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,+GAAQ,EAAS;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,+GAAQ,EAAS;IACnD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAU;IAE9C,IAAA,gHAAS,EAAC;QACR,yDAAyD;QACzD;;IAoBF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,WAAW,CAAC;QAClB,UAAU;QACV,IAAI,UAAU;YACZ,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAC5B,aAAa,OAAO,CAAC,YAAY;QACnC,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC/B,aAAa,OAAO,CAAC,YAAY;QACnC;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAM,WAAU;;kCACf,qKAAC;wBAAI,WAAU;kCAAa;;;;;;kCAC5B,qKAAC;wBAAI,WAAU;kCACb,cAAA,qKAAC;4BAAG,WAAU;sCACX,MAAM,GAAG,CAAC,CAAC;gCACV,MAAM,SAAS,OAAO,QAAQ,KAAK,KAAK,IAAI;gCAC5C,qBACE,qKAAC;oCAAmB,WAAW,CAAC,cAAc,EAAE,SAAS,WAAW,IAAI;8CACtE,cAAA,qKAAC,4KAAI;wCAAC,MAAM,KAAK,IAAI;wCAAE,WAAU;;0DAC/B,qKAAC;gDAAK,WAAU;gDAAY,aAAW;0DAAC;;;;;;0DACxC,qKAAC;gDAAK,WAAU;0DAAc,KAAK,KAAK;;;;;;;;;;;;mCAHnC,KAAK,IAAI;;;;;4BAOtB;;;;;;;;;;;kCAGJ,qKAAC;wBAAI,WAAU;;0CACb,qKAAC;gCAAI,WAAU;0CACb,cAAA,qKAAC;oCAAI,WAAU;;sDACb,qKAAC;4CAAI,WAAU;sDAAqB,YAAY;;;;;;sDAChD,qKAAC;4CAAI,WAAU;sDAAsB,aAAa;;;;;;;;;;;;;;;;;0CAGtD,qKAAC;gCACC,WAAU;gCACV,SAAS;gCACT,OAAO,SAAS,yBAAyB;0CAExC,SAAS,UAAU;;;;;;0CAEtB,qKAAC;gCACC,WAAU;gCACV,SAAS;oCACP;;oCAIA,OAAO,OAAO,CAAC;gCACjB;0CACD;;;;;;;;;;;;;;;;;;0BAKL,qKAAC;gBAAK,WAAU;gBAAY,MAAK;0BAC9B;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/components/ui/ToastProvider.tsx"],"sourcesContent":["import React, { createContext, useCallback, useContext, useMemo, useState } from 'react';\r\n\r\nexport type ToastType = 'success' | 'error' | 'info' | 'warning';\r\n\r\nexport interface Toast {\r\n  id: string;\r\n  type: ToastType;\r\n  title?: string;\r\n  message: string;\r\n  duration?: number; // ms\r\n}\r\n\r\ninterface ToastContextValue {\r\n  pushToast: (toast: Omit<Toast, 'id'>) => void;\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextValue | undefined>(undefined);\r\n\r\nexport const useToast = () => {\r\n  const ctx = useContext(ToastContext);\r\n  if (!ctx) throw new Error('useToast must be used within ToastProvider');\r\n  return ctx;\r\n};\r\n\r\nexport const ToastProvider: React.FC<React.PropsWithChildren<{}>> = ({ children }) => {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n\r\n  const remove = useCallback((id: string) => {\r\n    setToasts((prev) => prev.filter((t) => t.id !== id));\r\n  }, []);\r\n\r\n  const pushToast = useCallback((toast: Omit<Toast, 'id'>) => {\r\n    const id = Math.random().toString(36).slice(2);\r\n    const duration = toast.duration ?? 4000;\r\n    const t: Toast = { id, ...toast, duration };\r\n    setToasts((prev) => [t, ...prev]);\r\n    window.setTimeout(() => remove(id), duration);\r\n  }, [remove]);\r\n\r\n  const value = useMemo(() => ({ pushToast }), [pushToast]);\r\n\r\n  return (\r\n    <ToastContext.Provider value={value}>\r\n      {children}\r\n      <div className=\"toast-container\" aria-live=\"polite\" aria-atomic=\"true\">\r\n        {toasts.map((t) => (\r\n          <div key={t.id} className={`toast ${t.type}`}>\r\n            {t.title && <div className=\"toast-title\">{t.title}</div>}\r\n            <div className=\"toast-message\">{t.message}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </ToastContext.Provider>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAgBA,MAAM,6BAAe,IAAA,oHAAa,EAAgC;AAE3D,MAAM,WAAW;IACtB,MAAM,MAAM,IAAA,iHAAU,EAAC;IACvB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAC1B,OAAO;AACT;AAEO,MAAM,gBAAuD,CAAC,EAAE,QAAQ,EAAE;IAC/E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAU,EAAE;IAEhD,MAAM,SAAS,IAAA,kHAAW,EAAC,CAAC;QAC1B,UAAU,CAAC,OAAS,KAAK,MAAM,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAClD,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,kHAAW,EAAC,CAAC;QAC7B,MAAM,KAAK,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,KAAK,CAAC;QAC5C,MAAM,WAAW,MAAM,QAAQ,IAAI;QACnC,MAAM,IAAW;YAAE;YAAI,GAAG,KAAK;YAAE;QAAS;QAC1C,UAAU,CAAC,OAAS;gBAAC;mBAAM;aAAK;QAChC,OAAO,UAAU,CAAC,IAAM,OAAO,KAAK;IACtC,GAAG;QAAC;KAAO;IAEX,MAAM,QAAQ,IAAA,8GAAO,EAAC,IAAM,CAAC;YAAE;QAAU,CAAC,GAAG;QAAC;KAAU;IAExD,qBACE,qKAAC,aAAa,QAAQ;QAAC,OAAO;;YAC3B;0BACD,qKAAC;gBAAI,WAAU;gBAAkB,aAAU;gBAAS,eAAY;0BAC7D,OAAO,GAAG,CAAC,CAAC,kBACX,qKAAC;wBAAe,WAAW,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE;;4BACzC,EAAE,KAAK,kBAAI,qKAAC;gCAAI,WAAU;0CAAe,EAAE,KAAK;;;;;;0CACjD,qKAAC;gCAAI,WAAU;0CAAiB,EAAE,OAAO;;;;;;;uBAFjC,EAAE,EAAE;;;;;;;;;;;;;;;;AAQxB"}},
    {"offset": {"line": 390, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/pages/_app.tsx"],"sourcesContent":["import '../styles/globals.css';\r\nimport '../components/layout/DashboardLayout.css';\r\nimport './admin/dashboard.css';\r\nimport './admin/vendors.css';\r\nimport './admin/inventory.css';\r\nimport './admin/orders.css';\r\nimport './admin/customers.css';\r\nimport './vendor/dashboard.css';\r\nimport './vendor/products.css';\r\nimport './vendor/orders.css';\r\nimport './customer/products.css';\r\nimport '../styles/toast.css';\r\nimport type { AppProps } from 'next/app';\r\nimport { useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport DashboardLayout from '../components/layout/DashboardLayout';\r\nimport { ToastProvider } from '../components/ui/ToastProvider';\r\n\r\nfunction MyApp({ Component, pageProps }: AppProps) {\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    const selectors = [\r\n      '#__next-build-indicator',\r\n      '#__next-build-watcher',\r\n      '.nextjs-devtools-indicator',\r\n      '.nextjs-devtools-indicator-root',\r\n      '[data-nextjs-dev-indicator]'\r\n    ];\r\n\r\n    const removeIndicators = () => {\r\n      selectors.forEach((s) => {\r\n        document.querySelectorAll(s).forEach((el) => el.remove());\r\n      });\r\n    };\r\n\r\n    removeIndicators();\r\n\r\n    const observer = new MutationObserver(() => removeIndicators());\r\n    observer.observe(document.documentElement, { childList: true, subtree: true });\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  // Determine if we should wrap with layout\r\n  const isAdminPage = router.pathname.startsWith('/admin');\r\n  const isVendorPage = router.pathname.startsWith('/vendor');\r\n\r\n  let content: JSX.Element = <Component {...pageProps} />;\r\n\r\n  if (isAdminPage) {\r\n    content = (\r\n      <DashboardLayout role=\"admin\">\r\n        <Component {...pageProps} />\r\n      </DashboardLayout>\r\n    );\r\n  } else if (isVendorPage) {\r\n    content = (\r\n      <DashboardLayout role=\"vendor\">\r\n        <Component {...pageProps} />\r\n      </DashboardLayout>\r\n    );\r\n  }\r\n\r\n  return <ToastProvider>{content}</ToastProvider>;\r\n}\r\n\r\nexport default MyApp;\r\n"],"names":[],"mappings":";;;;;AAaA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,SAAS,EAAY;IAC/C,MAAM,SAAS,IAAA,gLAAS;IAExB,IAAA,gHAAS,EAAC;QACR,MAAM,YAAY;YAChB;YACA;YACA;YACA;YACA;SACD;QAED,MAAM,mBAAmB;YACvB,UAAU,OAAO,CAAC,CAAC;gBACjB,SAAS,gBAAgB,CAAC,GAAG,OAAO,CAAC,CAAC,KAAO,GAAG,MAAM;YACxD;QACF;QAEA;QAEA,MAAM,WAAW,IAAI,iBAAiB,IAAM;QAC5C,SAAS,OAAO,CAAC,SAAS,eAAe,EAAE;YAAE,WAAW;YAAM,SAAS;QAAK;QAC5E,OAAO,IAAM,SAAS,UAAU;IAClC,GAAG,EAAE;IAEL,0CAA0C;IAC1C,MAAM,cAAc,OAAO,QAAQ,CAAC,UAAU,CAAC;IAC/C,MAAM,eAAe,OAAO,QAAQ,CAAC,UAAU,CAAC;IAEhD,IAAI,wBAAuB,qKAAC;QAAW,GAAG,SAAS;;;;;;IAEnD,IAAI,aAAa;QACf,wBACE,qKAAC,+LAAe;YAAC,MAAK;sBACpB,cAAA,qKAAC;gBAAW,GAAG,SAAS;;;;;;;;;;;IAG9B,OAAO,IAAI,cAAc;QACvB,wBACE,qKAAC,+LAAe;YAAC,MAAK;sBACpB,cAAA,qKAAC;gBAAW,GAAG,SAAS;;;;;;;;;;;IAG9B;IAEA,qBAAO,qKAAC,+LAAa;kBAAE;;;;;;AACzB;uCAEe"}}]
}