{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/components/customer/CustomerLayout.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst navLinks = [\r\n  { href: '/customer/dashboard', label: 'Dashboard' },\r\n  { href: '/customer/browse-products', label: 'Browse Products' },\r\n  { href: '/customer/cart', label: 'Cart' },\r\n  { href: '/customer/track-order', label: 'Track Orders' },\r\n];\r\n\r\nexport default function CustomerLayout({ children }: { children: React.ReactNode }) {\r\n  const router = useRouter();\r\n  const [isDark, setIsDark] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    // Load theme preference\r\n    if (typeof window !== 'undefined') {\r\n      const theme = localStorage.getItem('cc_theme');\r\n      const prefersDark = theme === 'dark' || (!theme && window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n      setIsDark(prefersDark);\r\n      if (prefersDark) {\r\n        document.body.classList.add('theme-dark');\r\n      } else {\r\n        document.body.classList.remove('theme-dark');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const toggleTheme = () => {\r\n    const newTheme = !isDark;\r\n    setIsDark(newTheme);\r\n    if (newTheme) {\r\n      document.body.classList.add('theme-dark');\r\n      localStorage.setItem('cc_theme', 'dark');\r\n    } else {\r\n      document.body.classList.remove('theme-dark');\r\n      localStorage.setItem('cc_theme', 'light');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"customer-shell\">\r\n      <header className=\"customer-topbar\">\r\n        <div className=\"customer-brand\">Customer Test Console</div>\r\n        <nav className=\"customer-nav\">\r\n          {navLinks.map((link) => {\r\n            const active = router.pathname === link.href;\r\n            return (\r\n              <Link key={link.href} href={link.href} className={`customer-nav-link ${active ? 'active' : ''}`}>\r\n                {link.label}\r\n              </Link>\r\n            );\r\n          })}\r\n          <button \r\n            className=\"customer-theme-toggle\" \r\n            onClick={toggleTheme}\r\n            title={isDark ? 'Switch to light mode' : 'Switch to dark mode'}\r\n            aria-label=\"Toggle theme\"\r\n          >\r\n            {isDark ? '‚òÄÔ∏è' : 'üåô'}\r\n          </button>\r\n        </nav>\r\n      </header>\r\n      <main className=\"customer-main\">{children}</main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,WAAW;IACf;QAAE,MAAM;QAAuB,OAAO;IAAY;IAClD;QAAE,MAAM;QAA6B,OAAO;IAAkB;IAC9D;QAAE,MAAM;QAAkB,OAAO;IAAO;IACxC;QAAE,MAAM;QAAyB,OAAO;IAAe;CACxD;AAEc,SAAS,eAAe,EAAE,QAAQ,EAAiC;IAChF,MAAM,SAAS,IAAA,gLAAS;IACxB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAU;IAE9C,IAAA,gHAAS,EAAC;QACR,wBAAwB;QACxB;;IAUF,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,WAAW,CAAC;QAClB,UAAU;QACV,IAAI,UAAU;YACZ,SAAS,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC;YAC5B,aAAa,OAAO,CAAC,YAAY;QACnC,OAAO;YACL,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;YAC/B,aAAa,OAAO,CAAC,YAAY;QACnC;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;;0BACb,qKAAC;gBAAO,WAAU;;kCAChB,qKAAC;wBAAI,WAAU;kCAAiB;;;;;;kCAChC,qKAAC;wBAAI,WAAU;;4BACZ,SAAS,GAAG,CAAC,CAAC;gCACb,MAAM,SAAS,OAAO,QAAQ,KAAK,KAAK,IAAI;gCAC5C,qBACE,qKAAC,4KAAI;oCAAiB,MAAM,KAAK,IAAI;oCAAE,WAAW,CAAC,kBAAkB,EAAE,SAAS,WAAW,IAAI;8CAC5F,KAAK,KAAK;mCADF,KAAK,IAAI;;;;;4BAIxB;0CACA,qKAAC;gCACC,WAAU;gCACV,SAAS;gCACT,OAAO,SAAS,yBAAyB;gCACzC,cAAW;0CAEV,SAAS,OAAO;;;;;;;;;;;;;;;;;;0BAIvB,qKAAC;gBAAK,WAAU;0BAAiB;;;;;;;;;;;;AAGvC"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/vigne/Desktop/Community-Cart/frontend/src/pages/customer/track-order.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport CustomerLayout from '../../components/customer/CustomerLayout';\r\nimport { useCustomerStore } from '../../context/CustomerStore';\r\n\r\ninterface OrderItem {\r\n  _id: string;\r\n  orderNumber?: string;\r\n  vendorId?: { name?: string } | string;\r\n  pricing?: { totalAmount?: number };\r\n  status: string;\r\n  createdAt: string;\r\n  customerId?: any;\r\n}\r\n\r\nconst API_BASE = 'http://localhost:5000/api';\r\n\r\nexport default function TrackOrderPage() {\r\n  const { ensureCustomerId } = useCustomerStore();\r\n  const [orders, setOrders] = useState<OrderItem[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const load = async () => {\r\n      const cid = await ensureCustomerId();\r\n      if (!cid) {\r\n        setLoading(false);\r\n        setError('Customer not ready.');\r\n        return;\r\n      }\r\n      try {\r\n        const res = await fetch(`${API_BASE}/orders`);\r\n        if (!res.ok) throw new Error('Failed to fetch orders');\r\n        const data = await res.json();\r\n        const mine = data.filter((o: any) => o.customerId && (o.customerId._id === cid || o.customerId === cid));\r\n        setOrders(mine);\r\n      } catch (err: any) {\r\n        setError(err.message || 'Failed to load orders');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    load();\r\n  }, [ensureCustomerId]);\r\n\r\n  return (\r\n    <CustomerLayout>\r\n      <div className=\"track-page\">\r\n        <div className=\"page-head\">\r\n          <div>\r\n            <p className=\"page-kicker\">Track</p>\r\n            <h1 className=\"page-title\">Your Orders</h1>\r\n            <p className=\"page-subtitle\">Latest statuses reflect backend changes.</p>\r\n          </div>\r\n        </div>\r\n\r\n        {loading && <div className=\"page-state\">Loading orders‚Ä¶</div>}\r\n        {error && !loading && <div className=\"page-state error\">{error}</div>}\r\n\r\n        {!loading && !error && (\r\n          <div className=\"orders-list\">\r\n            {orders.map((order) => (\r\n              <div key={order._id} className=\"order-card\">\r\n                <div className=\"order-row\">\r\n                  <span className=\"label\">Order</span>\r\n                  <span className=\"value\">{order.orderNumber || order._id}</span>\r\n                </div>\r\n                <div className=\"order-row\">\r\n                  <span className=\"label\">Vendor</span>\r\n                  <span className=\"value\">{typeof order.vendorId === 'object' ? order.vendorId?.name : 'Vendor'}</span>\r\n                </div>\r\n                <div className=\"order-row\">\r\n                  <span className=\"label\">Total</span>\r\n                  <span className=\"value\">‚Çπ{order.pricing?.totalAmount?.toFixed(2) || '0.00'}</span>\r\n                </div>\r\n                <div className=\"order-row\">\r\n                  <span className={`status-badge ${order.status}`}>{order.status}</span>\r\n                  <span className=\"order-date\">{new Date(order.createdAt).toLocaleString()}</span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {orders.length === 0 && <div className=\"page-state\">No orders yet.</div>}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </CustomerLayout>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAYA,MAAM,WAAW;AAEF,SAAS;IACtB,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAA,yLAAgB;IAC7C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAc,EAAE;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IAEnC,IAAA,gHAAS,EAAC;QACR,MAAM,OAAO;YACX,MAAM,MAAM,MAAM;YAClB,IAAI,CAAC,KAAK;gBACR,WAAW;gBACX,SAAS;gBACT;YACF;YACA,IAAI;gBACF,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,OAAO,CAAC;gBAC5C,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;gBAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,MAAM,OAAO,KAAK,MAAM,CAAC,CAAC,IAAW,EAAE,UAAU,IAAI,CAAC,EAAE,UAAU,CAAC,GAAG,KAAK,OAAO,EAAE,UAAU,KAAK,GAAG;gBACtG,UAAU;YACZ,EAAE,OAAO,KAAU;gBACjB,SAAS,IAAI,OAAO,IAAI;YAC1B,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG;QAAC;KAAiB;IAErB,qBACE,qKAAC,gMAAc;kBACb,cAAA,qKAAC;YAAI,WAAU;;8BACb,qKAAC;oBAAI,WAAU;8BACb,cAAA,qKAAC;;0CACC,qKAAC;gCAAE,WAAU;0CAAc;;;;;;0CAC3B,qKAAC;gCAAG,WAAU;0CAAa;;;;;;0CAC3B,qKAAC;gCAAE,WAAU;0CAAgB;;;;;;;;;;;;;;;;;gBAIhC,yBAAW,qKAAC;oBAAI,WAAU;8BAAa;;;;;;gBACvC,SAAS,CAAC,yBAAW,qKAAC;oBAAI,WAAU;8BAAoB;;;;;;gBAExD,CAAC,WAAW,CAAC,uBACZ,qKAAC;oBAAI,WAAU;;wBACZ,OAAO,GAAG,CAAC,CAAC,sBACX,qKAAC;gCAAoB,WAAU;;kDAC7B,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAK,WAAU;0DAAQ;;;;;;0DACxB,qKAAC;gDAAK,WAAU;0DAAS,MAAM,WAAW,IAAI,MAAM,GAAG;;;;;;;;;;;;kDAEzD,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAK,WAAU;0DAAQ;;;;;;0DACxB,qKAAC;gDAAK,WAAU;0DAAS,OAAO,MAAM,QAAQ,KAAK,WAAW,MAAM,QAAQ,EAAE,OAAO;;;;;;;;;;;;kDAEvF,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAK,WAAU;0DAAQ;;;;;;0DACxB,qKAAC;gDAAK,WAAU;;oDAAQ;oDAAE,MAAM,OAAO,EAAE,aAAa,QAAQ,MAAM;;;;;;;;;;;;;kDAEtE,qKAAC;wCAAI,WAAU;;0DACb,qKAAC;gDAAK,WAAW,CAAC,aAAa,EAAE,MAAM,MAAM,EAAE;0DAAG,MAAM,MAAM;;;;;;0DAC9D,qKAAC;gDAAK,WAAU;0DAAc,IAAI,KAAK,MAAM,SAAS,EAAE,cAAc;;;;;;;;;;;;;+BAfhE,MAAM,GAAG;;;;;wBAmBpB,OAAO,MAAM,KAAK,mBAAK,qKAAC;4BAAI,WAAU;sCAAa;;;;;;;;;;;;;;;;;;;;;;;AAMhE"}}]
}